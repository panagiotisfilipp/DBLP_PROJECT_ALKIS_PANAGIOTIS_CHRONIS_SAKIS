
CREATE SCHEMA `m_102` ;


CREATE TABLE `m_102`.`papers` (
  `url_id` VARCHAR(45) NOT NULL,
  `authors` VARCHAR(500) NOT NULL,
  `title` VARCHAR(500) NOT NULL,
  `year` SMALLINT(4) NULL,
  `type` VARCHAR(45) NULL,
  `url` VARCHAR(500) NOT NULL,
  PRIMARY KEY (`url_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;
  
  


  
CREATE TABLE `m_102`.`users` (
  `user_id` INT UNSIGNED NOT NULL AUTO_INCREMENT,
  `username` VARCHAR(45) NOT NULL,
  `password` VARCHAR(64) NOT NULL,
  `email` VARCHAR(45) NULL,
  `role` VARCHAR(45) NOT NULL DEFAULT '1',
  PRIMARY KEY (`user_id`),
  UNIQUE INDEX `username_UNIQUE` (`username` ASC),
  UNIQUE INDEX `user_id_UNIQUE` (`user_id` ASC))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;
 
 


CREATE TABLE `m_102`.`downloads` (
  `url_id` varchar(45) COLLATE utf8_unicode_ci NOT NULL,
  `user_id` int(10) UNSIGNED NOT NULL,
  `notes` varchar(255) NULL,
  PRIMARY KEY (`url_id`,`user_id`),
  CONSTRAINT `link_to_papers` FOREIGN KEY (`url_id`) REFERENCES `papers` (`url_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `link_to_users` FOREIGN KEY (`user_id`) REFERENCES `users` (`user_id`) ON DELETE CASCADE ON UPDATE CASCADE) 
ENGINE=InnoDB 
DEFAULT CHARSET=utf8
COLLATE=utf8_unicode_ci;


